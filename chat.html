<!DOCTYPE html>
<html>
<head>
  <title>ARPANETOS CHAT</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding-bottom: 100px; 
      background-color: #aeeaf8; /* Color celeste para el modo claro */
    }
    #chatContainer {
      width: 100%;
      max-width:160vh;
      margin: auto;
      padding-top: 20px;
    }
    #messageArea {
      overflow: auto;
      height: 70vh;
      max-width: 700vh;
      border: 1px solid #dffefb;
      padding: 10px;
      margin-bottom: 10px;
      background-color: #c8f6f2; /* Color celeste para el modo claro */
    }
    #inputArea {
      position: fixed;
      bottom: 10px;
      left: 0;
      width: 100%;
      padding: 10px 0;
      background-color: #E6FFFD; /* Color celeste para el modo claro */
      text-align: center;
    }
    #usernameInput {
      margin-right: 10px;
    }
    #messageInput {
      width: 60%;
      margin-right: 10px;
    }
    #sendButton {
      padding: 5px 15px;
    }
    #themeButton {
      position: fixed;
      top: 10px;
      right: 10px;
    }
    #charCount {
      margin-top: 5px;
    }
    .message {
      margin-bottom: 5px;
    }
    .username {
      font-weight: bold;
      color: #814bff; 
    }

    h1 {
            font-size: 50px;
            font-family: 'Noto Serif Display';
            background: linear-gradient(45deg, #ac9ff4, #71a2f1); 
            -webkit-background-clip: text; 
            color: transparent; 
            animation: bounce 2s infinite alternate; 
            text-align: center;
        }
        @keyframes bounce {
            0% {
                transform: translateY(0);
            }
            100% {
                transform: translateY(-10px);
            }
        }
  </style>
</head>
<body>
  <div id="chatContainer">
    <h1>ARPANETOS CHAT</h1>
    <div id="messageArea"></div>
    <div id="inputArea">
      <input id="usernameInput" type="text" placeholder="Nombre/Usuario/Apodo">
      <input id="messageInput" type="text" placeholder="Escribe un mensaje" oninput="updateCharCount()" maxlength="140">
      <button id="sendButton" onclick="sendMessage()">Enviar</button>
      <div id="charCount">140</div>
    </div>
    <button id="themeButton" onclick="changeTheme()">Cambiar Tema</button>
  </div>

  <script>
    let darkTheme = localStorage.getItem('theme') === 'dark';
    applyTheme();

    function sendMessage() {
      const username = document.getElementById('usernameInput').value;
      const message = document.getElementById('messageInput').value;
      if (username && message) {

        console.log('Mensaje enviado:', { username, message });

        const messageElement = document.createElement('p');
        const usernameElement = document.createElement('span');
        usernameElement.textContent = username + ': ';
        usernameElement.classList.add('username');
        messageElement.appendChild(usernameElement);
        messageElement.appendChild(document.createTextNode(message));
        messageElement.classList.add('message');
        document.getElementById('messageArea').appendChild(messageElement);

        document.getElementById('messageInput').value = '';
        updateCharCount();
      } else {
        alert('Por favor, ingresa tu nombre y un mensaje.');
      }
    }

    function checkInput(e) {
      if (e.key === 'Enter') {
        sendMessage();
      }
    }

    function updateCharCount() {
      const messageInput = document.getElementById('messageInput');
      const charCount = document.getElementById('charCount');
      const remaining = 140 - messageInput.value.length;
      charCount.textContent = remaining;
    }

    function changeTheme() {
      darkTheme = !darkTheme;
      localStorage.setItem('theme', darkTheme ? 'dark' : 'light');
      applyTheme();
    }

    function applyTheme() {
      const bgColor = darkTheme ? '#001f3f' : '#E6FFFD'; 
      const textColor = darkTheme ? 'white' : 'black';
      document.body.style.backgroundColor = bgColor;
      document.body.style.color = textColor;
      document.getElementById('messageInput').style.backgroundColor = darkTheme ? '#555' : 'white';
      document.getElementById('messageInput').style.color = textColor;
      document.getElementById('charCount').style.color = textColor;
    }

    document.getElementById('messageInput').addEventListener('keydown', checkInput);
  </script>
</body>
</html>
